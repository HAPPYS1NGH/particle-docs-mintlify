---
title: 'Web (JavaScript/TypeScript) - Connect'
sidebarTitle: 'Web (JS/TS) - Connect'
description: 'Leveraging Particle Connect within web applications.'
---

## Particle Connect for Web

**Particle Connect** streamlines connecting with both **Web2** accounts via Particle Auth and **Web3** accounts through traditional wallets, providing a unified and accessible experience for all users. This custom connection modal is designed to facilitate seamless interactions within the Particle ecosystem.

Leveraging Particle Connect as the primary connection mechanism (the **Connect** button within your application) only takes a few steps, **as outlined below**.

## Demo

Before you begin, you might want to explore a demo of Particle Connect. You can view a [standard implementation](https://core-demo.particle.network) on the official web demo page.

<div className="flex justify-center">
    <img className="block" src="https://static.particle.network/demo-preview.png" alt="Particle Connect." />
</div>

## Getting Started

Implementing Particle Connect involves four key steps. Once completed, your application will feature a **Connect** button to easily onboards both **Web2** and **Web3** users, all powered by Particle Network.

### Installation

The first step is to install the Particle Connect Web SDK.

```shell Terminal
yarn add @particle-network/connectkit viem@^2
```

### Setting up the Particle dashboard

Before jumping directly into configuration and implementation, you'll need to make sure that you've retrieved your `projectId`, `clientKey`, and `appId` from the [Particle dashboard](https://dashboard.particle.network). These are required values that you'll need in the coming configuration process.

<Note>
    Follow the quickstart tutorial to set up a project and find the required keys: [Create a new
    project](/guides/wallet-as-a-service/waas/web-quickstart#configuring-particle-auth).
</Note>

### Configuration

The configuration process involves wrapping your application within a component to set up `ConnectKit` and its dependencies.

The recommended approach is to create a new component named `ParticleConnectKit`. 
In this component, you'll import the necessary providers and create a configuration file using the `createConfig` method from `@particle-network/connectkit` . 

Here, you'll configure:

-   `projectId`, `clientKey`, and `appId` — required values that can be obtained from the [Particle dashboard](https://dashboard.particle.network/).
-   `chains` — the supported chains for your dApp.
-   `walletConnectors` — the connectors needed by the dApp.

Additionally, you can configure:

-   `theme` — the connection UI's theme (`light`, `dark`, or `auto` based on system settings).
-   `language` — the language of the connection UI (optional).

Below is a template for structuring your `ParticleConnectKit` configuration using these parameters. 

Create a new component named `connectkit.tsx` and follow the template to set up your configuration.

```tsx connectkit.tsx
'use client';

import { ConnectKitProvider, createConfig } from '@particle-network/connectkit';
import { authWalletConnectors } from '@particle-network/connectkit/auth';
import { mainnet, solana } from '@particle-network/connectkit/chains';
import { evmWalletConnectors } from '@particle-network/connectkit/evm';
import { injected as solaInjected, solanaWalletConnectors } from '@particle-network/connectkit/solana';
import { wallet, EntryPosition } from '@particle-network/connectkit/wallet';
import React from 'react';

const config = createConfig({
    projectId: 'replace it with particle project id', // replace this.
    clientKey: 'replace it with particle client key', // replace this.
    appId: 'replace it with particle app id', // replace this.
    appearance: {
        // optional, define wallet label and sort wallets.
        recommendedWallets: [
            { walletId: 'metaMask', label: 'Recommended' },
            { walletId: 'coinbaseWallet', label: 'popular' },
        ],
        splitEmailAndPhone: false,
        collapseWalletList: false,
        hideContinueButton: false,
        //  optional, sort wallet connectors
        connectorsOrder: ['email', 'phone', 'social', 'wallet'],
        language: 'en-US',
        mode: 'light', // dark or auto.
        theme: {
            '--pcm-accent-color': '#ff4d4f',
            // ... other options
        },
        logo: 'https://...',
        filterCountryCallingCode: (countrys) => {
            // set only support USA, default support all country code.
            return countrys.filter((item) => item === 'US');
        },
    },
    walletConnectors: [
        evmWalletConnectors({
            metadata: { name: 'My App', icon: '', description: '', url: '' }, // optional, your app metadata, use for WalletConnect and Coinbase.
            walletConnectProjectId: 'replace it with WalletConnect project id', // optional, WalletConnect project id.
        }), // optional, you need to configure it when using social or email/phone connect.
        authWalletConnectors({
        // optional, supported login methods, and display sequence from Particle Auth
        authTypes: ["email", "google", "apple", "twitter", "github"],
        fiatCoin: "USD",
        promptSettingConfig: {
            promptMasterPasswordSettingWhenLogin: 1, // optional
            promptPaymentPasswordSettingWhenSign: 1, // optional
            },
        }),
        solanaWalletConnectors(), // optional, you need to configure it when using solana.
    ],
    plugins: [
        wallet({
            entryPosition: EntryPosition.BR,
            visible: true,
        }), // optional, embedded wallet, support solana and evm chains.
    ],
    chains: [mainnet, solana],
});

// Wrap your application with this component.
export const ParticleConnectkit = ({ children }: React.PropsWithChildren) => {
    return <ConnectKitProvider config={config}>{children}</ConnectKitProvider>;
};
```

<Info>
    When using a framework that supports React Server Components, you will need to include the `"use client"` directive at
    the beginning of the file.
</Info>

Next, import the `ParticleConnectKit` component and wrap your app with it in your `index` or `layout` file. Here's an example for a `layout.tsx` file:

```tsx layout.tsx
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";

// Import the Connectkit configuration
import { ParticleConnectkit } from "./components/Connectkit";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Particle Connect",
  description: "Demo showcasing a quickstart for Particle Connect 2.0",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <ParticleConnectkit>{children}</ParticleConnectkit>
      </body>
    </html>
  );
}
```

### Adding the connection button

Moving out of your `index` file and into your main `App` component, you'll need to include the **Connect** button (`ConnectButton` from `@particle-network/connectkit`) to facilitate the utilization of Particle Connect.


You can then use `isConnected` from `useAccount()` to handle what is rendered to the user.

```tsx 
import { ConnectButton, useAccount } from '@particle-network/connectkit';

export const App = () => {
    const { address, isConnected, chainId } = useAccount();

    // Standard ConnectButton utilization
    return (
        <>
        {isConnected ? (
            <>
            <h2>Address: {address}</h2>
            <h2>Chain ID: {chainId}</h2>
            </>
        ) : (
            <ConnectButton />
        )}
        </>
    );
};
```



## Wallet Connectors

### Auth

**ConnectKit** relies on [Particle Auth](/api-reference/auth/desktop-sdks/web) for authentication.

With Particle Auth, you can implement `email`, `phone`, and various `social` logins in your dApp.

```typescript
import { createConfig } from '@particle-network/connectkit';
import { authWalletConnectors } from '@particle-network/connectkit/auth';

const config = createConfig({
    walletConnectors: [
        authWalletConnectors({
            // optional, supported login methods, and display sequence.
            authTypes: ['email', 'phone', 'google', 'apple', 'twitter'],
            fiatCoin: 'USD',
            promptSettingConfig: {
                promptMasterPasswordSettingWhenLogin: 1, // optional
                promptPaymentPasswordSettingWhenSign: 1, // optional
            },
        }),
    ],
    // other options...
});
```

### EVM Wallet

**ConnectKit** supports all standard EVM wallets, and you can use the `injected` method to customize support for specific wallets.

The following wallets are supported by default:

-   MetaMask
-   WalletConnect
-   Phantom
-   Coinbase Wallet
-   OKX Wallet
-   Trust Wallet
-   Bitget Wallet

Simply add EVM wallet connectors to **ConnectKit** to enable these options.

```typescript
import { createConfig } from '@particle-network/connectkit';
import { evmWalletConnectors, injected, walletConnect, coinbaseWallet } from '@particle-network/connectkit/evm';

const config = createConfig({
    walletConnectors: [
        evmWalletConnectors({
            metadata: {
                // app metadata, use for WalletConnect and Coinbase.
                name: 'My App',
                icon: 'https://...',
                description: 'Web3 Demo',
                url: 'https://...',
            },
            walletConnectProjectId: 'WalletConnect project id', // optional, required if you use WalletConnect.
            // optional, define the supported connectors.
            connectorFns: [
                injected({ target: 'metaMask' }),
                injected({ target: 'trustWallet' }),
                injected({ target: 'okxWallet' }),
                coinbaseWallet(),
                walletConnect({ projectId: 'WalletConnect project id', showQrModal: false }),
                // customize support for a specific wallet.
                injected({
                    target: {
                        icon: 'https://...',
                        id: 'xxx', // wallet unique id
                        name: 'XXX Wallet',
                        provider: (window) => {
                            return window?.xxx.ethereum;
                        },
                    },
                }),
            ],
            // EIP-6963: Multi Injected Provider Discovery, default true.
            multiInjectedProviderDiscovery: true,
        }),
    ],
    // other options...
});
```

### Solana Wallet

**ConnectKit** supports all standard Solana wallets, and you can use the `injected` method to customize support for specific wallets.

The following wallets are supported by default:

-   Phantom
-   Coinbase Wallet
-   OKX Wallet
-   Trust Wallet
-   Bitget Wallet

Simply add Solana wallet connectors to **ConnectKit** to enable these options.

```typescript
import { createConfig } from '@particle-network/connectkit';
import { solanaWalletConnectors, injected } from '@particle-network/connectkit/solana';

const config = createConfig({
    walletConnectors: [
        solanaWalletConnectors({
            // optional, define the supported connectors.
            connectorFns: [
                injected({ target: 'phantom' }),
                injected({ target: 'coinbaseWallet' }),
                injected({ target: 'bitKeep' }),
                injected({ target: 'trustWallet' }),
                injected({ target: 'okxWallet' }),
                // customize support for a specific wallet.
                injected({
                    target: {
                        icon: 'https://...',
                        id: 'xxx', // wallet unique id
                        name: 'XXX Wallet',
                        provider: (window) => {
                            return window?.xxx.solana;
                        },
                    },
                }),
            ],
        }),
    ],
    // other options...
});
```

## Plugins

### Embedded Wallet

The **ConnectKit** Embedded Wallet Plugin relies on [Particle Wallet](/api-reference/wallet/desktop/web).

Once a wallet (e.g., MetaMask, Phantom) is connected, you can access the embedded wallet service.

Simply add the wallet plugin to **ConnectKit** to enable this feature.

```typescript
import { createConfig } from '@particle-network/connectkit';
import { wallet, EntryPosition } from '@particle-network/connectkit/wallet';

const config = createConfig({
    plugins: [
        wallet({
            visible: true, // display float button
            entryPosition: EntryPosition.BR, // float button position
            customStyle: {
                // Override the connectkit configuration.
                // Define the wallet-specific configurations.
            },
        }),
    ],
    // other options...
});
```

### Account Abstraction

The **ConnectKit** AA Plugin relies on [Particle Account Abstraction](/api-reference/aa/sdks/desktop/web).

Particle supports the following smart account implementations:

-   Biconomy
-   CyberConnect
-   Simple
-   Light
-   Xterio

To enable these features, simply add the AA plugin to ConnectKit.

```typescript
import { createConfig } from '@particle-network/connectkit';
import { aa } from '@particle-network/connectkit/aa';

const config = createConfig({
    plugins: [
        aa({
            name: 'BICONOMY',
            version: '2.0.0',
        }),
    ],
    // other options...
});
```

## Examples of utilization

### Verify User Connection

After setting up **Particle Connect** in your application, you can check if a user is connected via **Particle Connect**, using either **Particle Auth** or a traditional **Web3** wallet using the `useAccount` hook.

```typescript TypeScript
import { useAccount } from '@particle-network/connectkit';

const { address, isConnected, isConnecting, isDisconnected, chainId } = useAccount();

if (isConnected) {
    // Truthy indicates a successful login, active session
}
```

### Use Wallet Client

Once a wallet is connected, you can use it to send transactions and sign messages.

The Wallet Client interface allows you to interact with accounts, providing functionality to retrieve accounts, execute transactions, sign messages, and more.

For more details on `WalletClient`, refer to the [Viem documentation](https://viem.sh/docs/clients/wallet).

```typescript TypeScript
import { SolanaChain, useWallets } from '@particle-network/connectkit';

const [primaryWallet] = useWallets();
// wallet accounts.
const accounts = primaryWallet.accounts;
// current chainId
const chainId = primaryWallet.chainId;

// evm wallet
// send transaction
primaryWallet.getWalletClient().sendTransaction({...})
// sign message
primaryWallet.getWalletClient().signMessage({...})
// sign typed data
primaryWallet.getWalletClient().signTypedData({...})


// solana wallet
// send transaction.
primaryWallet.getWalletClient<SolanaChain>().sendTransaction({...})
// sign message.
primaryWallet.getWalletClient<SolanaChain>().signMessage({...})
// sign transaction
primaryWallet.getWalletClient<SolanaChain>().signTransaction({...})

```

### Key React Hooks for Particle Connect

Particle Connect provides several React Hooks for interacting with both Particle Connect and Particle Auth. These include:

-   `useWallets` - Returns all connected wallets.
-   `useAccount` - Retrieves the currently active account (address) and its status.
-   `useDisconnect` - Disconnects a wallet.
-   `useModal` - Opens the connect modal (`setOpen`) without using the `ConnectButton`.
-   `usePublicClient` - A Public Client interface for accessing external JSON-RPC API methods, allowing you to retrieve block numbers, fetch transactions, and read data from smart contracts.
-   `useSwitchChain` - Switches and retrieves the current primary chain.
-   `useSmartAccount` - Provides [ERC4337](https://eips.ethereum.org/EIPS/eip-4337) smart account functionality.
-   `useParticleAuth` - Interfaces for Particle Auth.
-   `useEmbeddedWallet` - Manages the embedded wallet.
